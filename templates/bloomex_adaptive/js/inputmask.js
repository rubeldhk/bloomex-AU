!function(z){void 0===z.fn.inputmask&&(z.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:z.noop,onincomplete:z.noop,oncleared:z.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:z.noop,onKeyDown:z.noop,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:z.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-zА-яЁё]",cardinality:1},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(e,t,i,n,a){var s=e.length;return t||("*"==i?s=n.length+1:1<i&&(s+=e.length*(i-1))),s}},escapeRegex:function(e){return e.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","gim"),"\\$1")}},z.fn.inputmask=function(e,n){var a,F=z.extend(!0,{},z.inputmask.defaults,n),t=null!==navigator.userAgent.match(new RegExp("msie 10","i")),W=null!==navigator.userAgent.match(new RegExp("iphone","i")),r=null!==navigator.userAgent.match(new RegExp("android.*safari.*","i")),Q=null!==navigator.userAgent.match(new RegExp("android.*chrome.*","i")),q=u("paste")&&!t?"paste":u("input")?"input":"propertychange",s=0;if("string"==typeof e)switch(e){case"mask":return l(F.alias,n),0==(a=c()).length?this:this.each(function(){d(z.extend(!0,{},a),0).mask(this)});case"unmaskedvalue":var o=z(this);return o.data("_inputmask")?(a=o.data("_inputmask").masksets,s=o.data("_inputmask").activeMasksetIndex,F=o.data("_inputmask").opts,d(a,s).unmaskedvalue(o)):o.val();case"remove":return this.each(function(){var e,t=z(this),i=this;if(t.data("_inputmask")){a=t.data("_inputmask").masksets,s=t.data("_inputmask").activeMasksetIndex,F=t.data("_inputmask").opts,i._valueSet(d(a,s).unmaskedvalue(t,!0)),t.removeData("_inputmask"),t.unbind(".inputmask"),t.removeClass("focus.inputmask"),Object.getOwnPropertyDescriptor&&(e=Object.getOwnPropertyDescriptor(i,"value")),e&&e.get?i._valueGet&&Object.defineProperty(i,"value",{get:i._valueGet,set:i._valueSet}):document.__lookupGetter__&&i.__lookupGetter__("value")&&i._valueGet&&(i.__defineGetter__("value",i._valueGet),i.__defineSetter__("value",i._valueSet));try{delete i._valueGet,delete i._valueSet}catch(e){i._valueGet=void 0,i._valueSet=void 0}}});case"getemptymask":return this.data("_inputmask")?(a=this.data("_inputmask").masksets,s=this.data("_inputmask").activeMasksetIndex,a[s]._buffer.join("")):"";case"hasMaskedValue":return!!this.data("_inputmask")&&!this.data("_inputmask").opts.autoUnmask;case"isComplete":return a=this.data("_inputmask").masksets,s=this.data("_inputmask").activeMasksetIndex,F=this.data("_inputmask").opts,d(a,s).isComplete(this[0]._valueGet().split(""));case"getmetadata":return this.data("_inputmask")?(a=this.data("_inputmask").masksets,s=this.data("_inputmask").activeMasksetIndex,a[s].metadata):void 0;default:return l(e,n)||(F.mask=e),0==(a=c()).length?this:this.each(function(){d(z.extend(!0,{},a),s).mask(this)})}else{if("object"==typeof e)return l((F=z.extend(!0,{},z.inputmask.defaults,e)).alias,e),0==(a=c()).length?this:this.each(function(){d(z.extend(!0,{},a),s).mask(this)});if(null==e)return this.each(function(){var e=z(this).attr("data-inputmask");if(e&&""!=e)try{e=e.replace(new RegExp("'","g"),'"');var t=z.parseJSON("{"+e+"}");z.extend(!0,t,n),l((F=z.extend(!0,{},z.inputmask.defaults,t)).alias,t),F.alias=void 0,z(this).inputmask(F)}catch(e){}})}function u(e){var t=document.createElement("input"),i=(e="on"+e)in t;return i||(t.setAttribute(e,"return;"),i="function"==typeof t[e]),t=null,i}function l(e,t){e=F.aliases[e];return e&&(e.alias&&l(e.alias),z.extend(!0,F,e),z.extend(!0,F,t),1)}function f(e){F.numericInput&&(e=e.split("").reverse().join(""));var s=!1,r=0,t=F.greedy,i=F.repeat;"*"==i&&(t=!1),1==e.length&&0==t&&0!=i&&(F.placeholder="");for(var n=z.map(e.split(""),function(e,t){var i=[];if(e==F.escapeChar)s=!0;else if(e!=F.optionalmarker.start&&e!=F.optionalmarker.end||s){var n=F.definitions[e];if(n&&!s)for(var a=0;a<n.cardinality;a++)i.push($(r+a));else i.push(e),s=!1;return r+=i.length,i}}),a=n.slice(),o=1;o<i&&t;o++)a=a.concat(n.slice());return{mask:a,repeat:i,greedy:t}}function h(e){F.numericInput&&(e=e.split("").reverse().join(""));var l=!1,c=!1,d=!1;return z.map(e.split(""),function(e,t){var i=[];if(e==F.escapeChar)c=!0;else if(e!=F.optionalmarker.start||c){if(e!=F.optionalmarker.end||c){var n=F.definitions[e];if(n&&!c){for(var a=n.prevalidator,s=a?a.length:0,r=1;r<n.cardinality;r++){var o=r<=s?a[r-1]:[],u=o.validator,o=o.cardinality;i.push({fn:u?"string"==typeof u?new RegExp(u):new function(){this.test=u}:new RegExp("."),cardinality:o||1,optionality:l,newBlockMarker:1==l&&d,offset:0,casing:n.casing,def:n.definitionSymbol||e}),1==l&&(d=!1)}i.push({fn:n.validator?"string"==typeof n.validator?new RegExp(n.validator):new function(){this.test=n.validator}:new RegExp("."),cardinality:n.cardinality,optionality:l,newBlockMarker:d,offset:0,casing:n.casing,def:n.definitionSymbol||e})}else i.push({fn:null,cardinality:0,optionality:l,newBlockMarker:d,offset:0,casing:null,def:e}),c=!1;return d=!1,i}d=!(l=!1)}else d=l=!0})}function c(){var o=[],u=[],l=[];function c(e){return F.optionalmarker.start+e+F.optionalmarker.end}function d(e){var t=e.length;for(i=0;i<t&&e.charAt(i)!=F.optionalmarker.start;i++);var n=[e.substring(0,i)];return i<t&&n.push(e.substring(i+1,t)),n}function p(e,t,n){var a,s,r=function(e){var t=0,n=0,a=e.length;for(i=0;i<a&&(e.charAt(i)==F.optionalmarker.start&&t++,e.charAt(i)==F.optionalmarker.end&&n++,!(0<t&&t==n));i++);var s=[e.substring(0,i)];return i<a&&s.push(e.substring(i+1,a)),s}(t),t=d(r[0]);1<t.length?(a=e+t[0]+c(t[1])+(1<r.length?r[1]:""),-1==z.inArray(a,u)&&""!=a&&(u.push(a),s=f(a),o.push({mask:a,_buffer:s.mask,buffer:s.mask.slice(),tests:h(a),lastValidPosition:-1,greedy:s.greedy,repeat:s.repeat,metadata:n})),a=e+t[0]+(1<r.length?r[1]:""),-1==z.inArray(a,u)&&""!=a&&(u.push(a),s=f(a),o.push({mask:a,_buffer:s.mask,buffer:s.mask.slice(),tests:h(a),lastValidPosition:-1,greedy:s.greedy,repeat:s.repeat,metadata:n})),1<d(t[1]).length&&p(e+t[0],t[1]+r[1],n),1<r.length&&1<d(r[1]).length&&(p(e+t[0]+c(t[1]),r[1],n),p(e+t[0],r[1],n))):(a=e+r,-1==z.inArray(a,u)&&""!=a&&(u.push(a),s=f(a),o.push({mask:a,_buffer:s.mask,buffer:s.mask.slice(),tests:h(a),lastValidPosition:-1,greedy:s.greedy,repeat:s.repeat,metadata:n})))}return z.isFunction(F.mask)&&(F.mask=F.mask.call(this,F)),z.isArray(F.mask)?z.each(F.mask,function(e,t){null!=t.mask?p("",t.mask.toString(),t):p("",t.toString())}):p("",F.mask.toString()),function(e){var t=/(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[]()|\\]+|./g;function i(){this.matches=[],this.isGroup=!1,this.isOptional=!1,this.isQuantifier=!1}var n,a,s=new i,r=[];for(l=[];n=t.exec(e);)switch((a=n[0]).charAt(0)){case F.optionalmarker.end:case F.groupmarker.end:var o=r.pop();0<r.length?r[r.length-1].matches.push(o):(l.push(o),s=o);break;case F.optionalmarker.start:!s.isGroup&&0<s.matches.length&&l.push(s),(s=new i).isOptional=!0,r.push(s);break;case F.groupmarker.start:!s.isGroup&&0<s.matches.length&&l.push(s),(s=new i).isGroup=!0,r.push(s);break;case F.quantifiermarker.start:o=new i;o.isQuantifier=!0,o.matches.push(a),(0<r.length?r[r.length-1]:s).matches.push(o);break;default:0<r.length?r[r.length-1].matches.push(a):((s.isGroup||s.isOptional)&&(s=new i),s.matches.push(a))}0<s.matches.length&&l.push(s)}(F.mask),F.greedy?o:o.sort(function(e,t){return e.mask.length-t.mask.length})}function $(e){return F.placeholder.charAt(e%F.placeholder.length)}function d(y,b){var p,f,P=!1,h=M().join("");function x(){return y[b]}function k(){return x().tests}function C(){return x()._buffer}function M(){return x().buffer}function A(u,l,c){function d(e,t,i,n){for(var a=I(e),s=i?1:0,r="",o=t.buffer,u=t.tests[a].cardinality;s<u;u--)r+=G(o,a-(u-1));return i&&(r+=i),null!=t.tests[a].fn?t.tests[a].fn.test(r,o,e,n,F):(i==G(t._buffer,e,!0)||i==F.skipOptionalPartCharacter)&&{refresh:!0,c:G(t._buffer,e,!0),pos:e}}if(c=!0===c,c)return!0===(f=d(u,x(),l,c))&&(f={pos:u}),f;var n,e,a,s,i,p=[],f=!1,h=b,k=M().slice(),v=x().lastValidPosition,m=(S(u),[]);return z.each(y,function(e,t){if("object"==typeof t){b=e;var i,n=u,t=x().lastValidPosition;if(t==v){if(1<n-v)for(var a=-1==t?0:t;a<n&&!1!==(i=d(a,x(),k[a],!0));a++){O(M(),a,k[a],!0),!0===i&&(i={pos:a});var s=i.pos||a;x().lastValidPosition<s&&(x().lastValidPosition=s)}if(!j(n)&&!d(n,x(),l,c)){for(var r=w(n)-n,o=0;o<r&&!1===d(++n,x(),l,c);o++);m.push(b)}}(x().lastValidPosition>=v||b==h)&&0<=n&&n<V()&&(!1!==(f=d(n,x(),l,c))&&(!0===f&&(f={pos:n}),s=f.pos||n,x().lastValidPosition<s&&(x().lastValidPosition=s)),p.push({activeMasksetIndex:e,result:f}))}}),b=h,n=m,e=p,i=!1,z.each(e,function(e,t){if(i=-1==z.inArray(t.activeMasksetIndex,n)&&!1!==t.result)return!1}),e=i?z.map(e,function(e,t){return-1==z.inArray(e.activeMasksetIndex,n)?e:void(y[e.activeMasksetIndex].lastValidPosition=v)}):(s=a=-1,z.each(e,function(e,t){-1!=z.inArray(t.activeMasksetIndex,n)&&!1!==t.result&(-1==a||a>t.result.pos)&&(a=t.result.pos,s=t.activeMasksetIndex)}),z.map(e,function(e,t){if(-1!=z.inArray(e.activeMasksetIndex,n)){if(e.result.pos==a)return e;if(!1!==e.result){for(var i=u;i<a;i++){if(rsltValid=d(i,y[e.activeMasksetIndex],y[s].buffer[i],!0),!1===rsltValid){y[e.activeMasksetIndex].lastValidPosition=a-1;break}O(y[e.activeMasksetIndex].buffer,i,y[s].buffer[i],!0),y[e.activeMasksetIndex].lastValidPosition=i}return rsltValid=d(a,y[e.activeMasksetIndex],l,!0),!1!==rsltValid&&(O(y[e.activeMasksetIndex].buffer,a,l,!0),y[e.activeMasksetIndex].lastValidPosition=a),e}}}))}function E(){var e=b,i={activeMasksetIndex:0,lastValidPosition:-1,next:-1};z.each(y,function(e,t){"object"==typeof t&&(b=e,(x().lastValidPosition>i.lastValidPosition||x().lastValidPosition==i.lastValidPosition&&(-1==i.next||i.next>w(x().lastValidPosition)))&&(i.activeMasksetIndex=e,i.lastValidPosition=x().lastValidPosition,i.next=w(x().lastValidPosition)))}),e!=(b=-1!=i.lastValidPosition&&y[e].lastValidPosition==i.lastValidPosition?e:i.activeMasksetIndex)&&(D(M(),w(i.lastValidPosition),V()),x().writeOutBuffer=!0),p.data("_inputmask").activeMasksetIndex=b}function j(e){e=I(e),e=k()[e];return null!=e&&e.fn}function I(e){return e%k().length}function V(){return F.getMaskLength(C(),x().greedy,x().repeat,M(),F)}function w(e){var t=V();if(t<=e)return t;for(var i=e;++i<t&&!j(i););return i}function S(e){var t=e;if(t<=0)return 0;for(;0<--t&&!j(t););return t}function O(e,t,i,n){n&&(t=s(e,t));var n=k()[I(t)],a=i;if(null!=a&&null!=n)switch(n.casing){case"upper":a=i.toUpperCase();break;case"lower":a=i.toLowerCase()}e[t]=a}function G(e,t,i){return i&&(t=s(e,t)),e[t]}function s(e,t){for(var i;null==e[t]&&e.length<V();)for(i=0;void 0!==C()[i];)e.push(C()[i++]);return t}function T(e,t,i){e._valueSet(t.join("")),null!=i&&H(e,i)}function D(e,t,i,n){for(var a=t,s=V();a<i&&a<s;a++)!0===n?j(a)||O(e,a,""):O(e,a,G(C().slice(),a,!0))}function R(e,t){var i=I(t);O(e,t,G(C(),i))}function K(a,s,r,e,o){e=null!=e?e.slice():L(a._valueGet()).split("");z.each(y,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1,t.p=-1)}),!0!==r&&(b=0),s&&a._valueSet("");V();z.each(e,function(e,t){var i,n;!0===o?(n=-1==(i=-1==(n=x().p)?n:S(n))?e:w(i),-1==z.inArray(t,C().slice(i+1,n))&&z(a).trigger("_keypress",[!0,t.charCodeAt(0),s,r,e])):z(a).trigger("_keypress",[!0,t.charCodeAt(0),s,r,e])}),!0===r&&-1!=x().p&&(x().lastValidPosition=S(x().p))}function L(e){return e.replace(new RegExp("("+function(e){return z.inputmask.escapeRegex.call(this,e)}(C().join(""))+")*$"),"")}function N(e){for(var t=M(),i=t.slice(),n=i.length-1;0<=n;n--){var a=I(n);if(!k()[a].optionality)break;if(j(n)&&A(n,t[n],!0))break;i.pop()}T(e,i)}function B(e){return!P||"number"!=typeof e||F.greedy&&""==F.placeholder||(e=M().length-e),e}function H(e,t,i){var n,a=e.jquery&&0<e.length?e[0]:e;if("number"!=typeof t)return z(e).is(":visible")?(a.setSelectionRange?(t=a.selectionStart,i=a.selectionEnd):document.selection&&document.selection.createRange&&(i=(t=0-(n=document.selection.createRange()).duplicate().moveStart("character",-1e5))+n.text.length),{begin:t=B(t),end:i=B(i)}):{begin:0,end:0};t=B(t),i=B(i),z(e).is(":visible")&&(i="number"==typeof i?i:t,a.scrollLeft=a.scrollWidth,0==F.insertMode&&t==i&&i++,a.setSelectionRange?(a.selectionStart=t,a.selectionEnd=r?t:i):a.createTextRange&&((n=a.createTextRange()).collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n.select()))}function U(o){if("*"!=F.repeat){var u=!1,l=0,e=b;return z.each(y,function(e,t){if("object"==typeof t){b=e;var i=S(V());if(t.lastValidPosition>=l&&t.lastValidPosition==i){for(var n=!0,a=0;a<=i;a++){var s=j(a),r=I(a);if(s&&(null==o[a]||o[a]==$(a))||!s&&o[a]!=C()[r]){n=!1;break}}if(u=u||n)return!1}l=t.lastValidPosition}}),b=e,u}}return this.unmaskedvalue=function(e,t){return P=e.data("_inputmask").isRTL,function(e,t){{if(!k()||!0!==t&&e.hasClass("hasDatepicker"))return e[0]._valueGet();e=z.map(M(),function(e,t){return j(t)&&A(t,e,!0)?e:null});return(P?e.reverse():e).join("")}}(e,t)},this.isComplete=U,this.mask=function(e){if((p=z(e)).is(":input")){var i,t,n,a,s;p.data("_inputmask",{masksets:y,activeMasksetIndex:b,opts:F,isRTL:!1}),F.showTooltip&&p.prop("title",x().mask),x().greedy=x().greedy?x().greedy:0==x().repeat,null!=p.attr("maxLength")&&(-1<(i=p.prop("maxLength"))&&z.each(y,function(e,t){"object"==typeof t&&"*"==t.repeat&&(t.repeat=i)}),V()>=i&&-1<i&&(i<C().length&&(C().length=i),0==x().greedy&&(x().repeat=Math.round(i/C().length)),p.prop("maxLength",2*V()))),t=e,Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(t,"value")),n&&n.get?t._valueGet||(a=n.get,s=n.set,t._valueGet=function(){return P?a.call(this).split("").reverse().join(""):a.call(this)},t._valueSet=function(e){s.call(this,P?e.split("").reverse().join(""):e)},Object.defineProperty(t,"value",{get:function(){var e=z(this),t=z(this).data("_inputmask"),i=t.masksets,n=t.activeMasksetIndex;return t&&t.opts.autoUnmask?e.inputmask("unmaskedvalue"):a.call(this)!=i[n]._buffer.join("")?a.call(this):""},set:function(e){s.call(this,e),z(this).triggerHandler("setvalue.inputmask")}})):document.__lookupGetter__&&t.__lookupGetter__("value")?t._valueGet||(a=t.__lookupGetter__("value"),s=t.__lookupSetter__("value"),t._valueGet=function(){return P?a.call(this).split("").reverse().join(""):a.call(this)},t._valueSet=function(e){s.call(this,P?e.split("").reverse().join(""):e)},t.__defineGetter__("value",function(){var e=z(this),t=z(this).data("_inputmask"),i=t.masksets,n=t.activeMasksetIndex;return t&&t.opts.autoUnmask?e.inputmask("unmaskedvalue"):a.call(this)!=i[n]._buffer.join("")?a.call(this):""}),t.__defineSetter__("value",function(e){s.call(this,e),z(this).triggerHandler("setvalue.inputmask")})):(t._valueGet||(t._valueGet=function(){return P?this.value.split("").reverse().join(""):this.value},t._valueSet=function(e){this.value=P?e.split("").reverse().join(""):e}),null!=z.valHooks.text&&1==z.valHooks.text.inputmaskpatch||(a=z.valHooks.text&&z.valHooks.text.get?z.valHooks.text.get:function(e){return e.value},s=z.valHooks.text&&z.valHooks.text.set?z.valHooks.text.set:function(e,t){return e.value=t,e},jQuery.extend(z.valHooks,{text:{get:function(e){var t=z(e);if(t.data("_inputmask")){if(t.data("_inputmask").opts.autoUnmask)return t.inputmask("unmaskedvalue");var i=a(e),t=t.data("_inputmask");return i!=t.masksets[t.activeMasksetIndex]._buffer.join("")?i:""}return a(e)},set:function(e,t){var i=z(e),t=s(e,t);return i.data("_inputmask")&&i.triggerHandler("setvalue.inputmask"),t},inputmaskpatch:!0}})));var r,o,u,v=!1,m=!1;F.numericInput&&(F.isNumeric=F.numericInput),("rtl"==e.dir||F.numericInput&&F.rightAlignNumerics||F.isNumeric&&F.rightAlignNumerics)&&p.css("text-align","right"),"rtl"!=e.dir&&!F.numericInput||(e.dir="ltr",p.removeAttr("dir"),(r=p.data("_inputmask")).isRTL=!0,p.data("_inputmask",r),P=!0),p.unbind(".inputmask"),p.removeClass("focus.inputmask"),p.closest("form").bind("submit",function(){h!=M().join("")&&p.change()}).bind("reset",function(){setTimeout(function(){p.trigger("setvalue")},0)}),p.bind("mouseenter.inputmask",function(){!z(this).hasClass("focus.inputmask")&&F.showMaskOnHover&&this._valueGet()!=M().join("")&&T(this,M())}).bind("blur.inputmask",function(){var e=z(this),t=this,i=t._valueGet(),n=M();e.removeClass("focus.inputmask"),h!=M().join("")&&e.change(),F.clearMaskOnLostFocus&&""!=i&&(i==C().join("")?t._valueSet(""):N(t)),!1===U(n)&&(e.trigger("incomplete"),F.clearIncomplete&&(z.each(y,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1)}),b=0,F.clearMaskOnLostFocus?t._valueSet(""):T(t,C().slice())))}).bind("focus.inputmask",function(){var e=z(this),t=this._valueGet();F.showMaskOnFocus&&!e.hasClass("focus.inputmask")&&(!F.showMaskOnHover||F.showMaskOnHover&&""==t)&&this._valueGet()!=M().join("")&&T(this,M(),w(x().lastValidPosition)),e.addClass("focus.inputmask"),h=M().join("")}).bind("mouseleave.inputmask",function(){var e=z(this),t=this;F.clearMaskOnLostFocus&&(e.hasClass("focus.inputmask")||t._valueGet()==e.attr("placeholder")||(t._valueGet()==C().join("")||""==t._valueGet()?t._valueSet(""):N(t)))}).bind("click.inputmask",function(){var n=this;setTimeout(function(){var e,t=H(n),i=M();t.begin==t.end&&(e=F.isRTL?B(t.begin):t.begin,t=x().lastValidPosition,e<(t=F.isNumeric&&!1===F.skipRadixDance&&""!=F.radixPoint&&-1!=z.inArray(F.radixPoint,i)?F.numericInput?w(z.inArray(F.radixPoint,i)):z.inArray(F.radixPoint,i):w(t))?j(e)?H(n,e):H(n,w(e)):H(n,t))},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){H(e,0,w(x().lastValidPosition))},0)}).bind(q+".inputmask dragdrop.inputmask drop.inputmask",function(e){var t=this,i=z(t);if("propertychange"==e.type&&t._valueGet().length<=V())return!0;setTimeout(function(){K(t,!0,!1,void 0,!0),!0===U(M())&&i.trigger("complete"),i.click()},0)}).bind("setvalue.inputmask",function(){K(this,!0),h=M().join(""),this._valueGet()==C().join("")&&this._valueSet("")}).bind("_keypress.inputmask",d).bind("complete.inputmask",F.oncomplete).bind("incomplete.inputmask",F.onincomplete).bind("cleared.inputmask",F.oncleared).bind("keyup.inputmask",function(e){var t=z(this),i=this,n=e.keyCode,a=M();Q&&n==F.keyCode.BACKSPACE&&f==i._valueGet()&&c.call(this,e);F.onKeyUp.call(this,e,a,F),n==F.keyCode.TAB&&F.showMaskOnFocus&&(t.hasClass("focus.inputmask")&&0==i._valueGet().length?(a=C().slice(),T(i,a),H(i,0),h=M().join("")):(T(i,a),H(i,0,V())))}),Q?p.bind("input.inputmask",function(e){var t=z(this);f=M().join(""),K(this,!1,!1),T(this,M()),!0===U(M())&&t.trigger("complete"),t.click()}):p.bind("keydown.inputmask",c).bind("keypress.inputmask",d),K(e,!0,!1),h=M().join("");try{o=document.activeElement}catch(e){}o===e?(p.addClass("focus.inputmask"),H(e,w(x().lastValidPosition))):F.clearMaskOnLostFocus?M().join("")==C().join("")?e._valueSet(""):N(e):T(e,M()),u=e,u=z._data(u).events,z.each(u,function(e,t){z.each(t,function(e,t){var i;"inputmask"==t.namespace&&"setvalue"!=t.type&&"_keypress"!=t.type&&(i=t.handler,t.handler=function(e){if(!this.readOnly&&!this.disabled)return i.apply(this,arguments);e.preventDefault})})})}function l(e,t,i,n){var a=M();if(!1!==n)for(;!j(e)&&0<=e-1;)e--;for(var s=e;s<t&&s<V();s++)if(j(s)){R(a,s);var r=w(s),o=G(a,r);if(o!=$(r))if(r<V()&&!1!==A(s,o,!0)&&k()[I(s)].def==k()[I(r)].def)O(a,s,G(a,r),!0),r<t&&R(a,r);else if(j(s))break}else R(a,s);if(null!=i&&O(a,S(t),i),0==x().greedy){var u=L(a.join("")).split("");a.length=u.length;for(var s=0,l=a.length;s<l;s++)a[s]=u[s];0==a.length&&(x().buffer=C().slice())}return e}function g(e,t,i,n){for(var a=M(),s=e;s<=t&&s<V();s++)if(j(s)){var r=G(a,s,!0);if(O(a,s,i,!0),r!=$(s)){var o=w(s);if(!(o<V()))break;if(!1!==A(o,r,!0)&&k()[I(s)].def==k()[I(o)].def)i=r;else{if(j(o))break;i=r}}else if(i=r,!0!==n)break}else R(a,s);e=a.length;if(0==x().greedy){var u=L(a.join("")).split("");a.length=u.length;for(var s=0,l=a.length;s<l;s++)a[s]=u[s];0==a.length&&(x().buffer=C().slice())}return t-(e-a.length)}function _(e,t,i){if(F.numericInput||P){switch(t){case F.keyCode.BACKSPACE:t=F.keyCode.DELETE;break;case F.keyCode.DELETE:t=F.keyCode.BACKSPACE}var n;P&&(n=i.end,i.end=i.begin,i.begin=n)}var a=!0;i.begin==i.end?(u=t==F.keyCode.BACKSPACE?i.begin-1:i.begin,F.isNumeric&&""!=F.radixPoint&&M()[u]==F.radixPoint&&(i.begin=M().length-1==u?i.begin:t==F.keyCode.BACKSPACE?u:w(u),i.end=i.begin),a=!1,t==F.keyCode.BACKSPACE?i.begin--:t==F.keyCode.DELETE&&i.end++):i.end-i.begin!=1||F.insertMode||(a=!1,t==F.keyCode.BACKSPACE&&i.begin--),D(M(),i.begin,i.end);var s=V();if(0==F.greedy)l(i.begin,s,void 0,!P&&t==F.keyCode.BACKSPACE&&!a);else{for(var r=i.begin,o=i.begin;o<i.end;o++)!j(o)&&a||(r=l(i.begin,s,void 0,!P&&t==F.keyCode.BACKSPACE&&!a));a||(i.begin=r)}var u=w(-1);D(M(),i.begin,i.end,!0),K(e,!1,null==y[1]||u>=i.end,M()),x().lastValidPosition<u?(x().lastValidPosition=-1,x().p=u):x().p=i.begin}function c(t){v=!1;var i=this,e=z(i),n=t.keyCode,a=H(i);n==F.keyCode.BACKSPACE||n==F.keyCode.DELETE||W&&127==n||t.ctrlKey&&88==n?(t.preventDefault(),88==n&&(h=M().join("")),_(i,n,a),E(),T(i,M(),x().p),i._valueGet()==C().join("")&&e.trigger("cleared"),F.showTooltip&&e.prop("title",x().mask)):n==F.keyCode.END||n==F.keyCode.PAGE_DOWN?setTimeout(function(){var e=w(x().lastValidPosition);F.insertMode||e!=V()||t.shiftKey||e--,H(i,t.shiftKey?a.begin:e,e)},0):n==F.keyCode.HOME&&!t.shiftKey||n==F.keyCode.PAGE_UP?H(i,0,t.shiftKey?a.begin:0):n==F.keyCode.ESCAPE||90==n&&t.ctrlKey?(K(i,!0,!1,h.split("")),e.click()):n!=F.keyCode.INSERT||t.shiftKey||t.ctrlKey?0!=F.insertMode||t.shiftKey||(n==F.keyCode.RIGHT?setTimeout(function(){var e=H(i);H(i,e.begin)},0):n==F.keyCode.LEFT&&setTimeout(function(){var e=H(i);H(i,e.begin-1)},0)):(F.insertMode=!F.insertMode,H(i,F.insertMode||a.begin!=V()?a.begin:a.begin-1));e=H(i);!0===F.onKeyDown.call(this,t,M(),F)&&H(i,e.begin,e.end),m=-1!=z.inArray(n,F.ignorables)}function d(e,t,i,n,r,a){if(null==i&&v)return!1;v=!0;var s=z(this);e=e||window.event;var o,u,l,c,d,p,f,h,k,i=i||e.which||e.charCode||e.keyCode;if(!(e.ctrlKey&&e.altKey||!(e.ctrlKey||e.metaKey||m)||!0===t))return!0;i&&(!0!==t&&46==i&&0==e.shiftKey&&","==F.radixPoint&&(i=44),u=String.fromCharCode(i),l=t?{begin:c=r?a:x().lastValidPosition+1,end:c}:H(this),k=l.begin,i=l.end,a=P?1<k-i||k-i==1&&F.insertMode:1<i-k||i-k==1&&F.insertMode,c=b,a&&(b=c,z.each(y,function(e,t){"object"==typeof t&&(b=e,x().undoBuffer=M().join(""))}),_(this,F.keyCode.DELETE,l),F.insertMode||z.each(y,function(e,t){"object"==typeof t&&(b=e,g(l.begin,V(),$(l.begin),!0),x().lastValidPosition=w(x().lastValidPosition))}),b=c),i=M().join("").indexOf(F.radixPoint),F.isNumeric&&!0!==t&&-1!=i&&(F.greedy&&l.begin<=i?(l.begin=S(l.begin),l.end=l.begin):u==F.radixPoint&&(l.begin=i,l.end=l.begin)),k=A(d=l.begin,u,r),!0===r&&(k=[{activeMasksetIndex:b,result:k}]),p=-1,z.each(k,function(e,t){b=t.activeMasksetIndex,x().writeOutBuffer=!0;var i=t.result;if(!1!==i){var n=!1,t=M();if(!0!==i&&(n=i.refresh,d=null!=i.pos?i.pos:d,u=null!=i.c?i.c:u),!0!==n){if(1==F.insertMode){for(var a=V(),s=t.slice();G(s,a,!0)!=$(a)&&d<=a;)a=0==a?-1:S(a);d<=a?(g(d,t.length,u),(n=w(i=x().lastValidPosition))!=V()&&d<=i&&G(M(),n,!0)!=$(n)&&(x().lastValidPosition=n)):x().writeOutBuffer=!1}else O(t,d,u,!0);(-1==p||p>w(d))&&(p=w(d))}else r||(t=d<V()?d+1:d,(-1==p||t<p)&&(p=t));p>x().p&&(x().p=p)}}),!0!==r&&(b=c,E()),!1!==n&&(z.each(k,function(e,t){if(t.activeMasksetIndex==b)return o=t,!1}),null!=o&&(f=this,setTimeout(function(){F.onKeyValidation.call(f,o.result,F)},0),x().writeOutBuffer&&!1!==o.result?(h=M(),i=t?void 0:F.numericInput?i<d?S(p):u==F.radixPoint?p-1:S(p-1):p,T(this,h,i),!0!==t&&setTimeout(function(){!0===U(h)&&s.trigger("complete")},0)):a&&(x().buffer=x().undoBuffer.split("")))),F.showTooltip&&s.prop("title",x().mask),e.preventDefault())}},this}return this})}(jQuery);